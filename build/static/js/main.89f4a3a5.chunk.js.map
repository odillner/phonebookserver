{"version":3,"sources":["components/Forms.js","components/PersonsDisplay.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["props","nameForm","nameInput","handleNameForm","numberForm","numberInput","handleNumberForm","value","onChange","type","onClick","addPerson","searchForm","searchInput","handleSearchForm","PersonsDisplay","persons","map","person","filter","name","toLowerCase","includes","key","number","removeHandler","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setNameInput","setNumberInput","setSearchInput","setMessage","useEffect","personService","updatePerson","newPerson","window","confirm","p","concat","displayMessage","setTimeout","Forms","event","target","preventDefault","foundPerson","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89f4a3a5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst InputForm = (props) => {\r\n    const {nameInput, handleNameForm} = props.nameForm;\r\n    const {numberInput, handleNumberForm} = props.numberForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            name: <input value={nameInput} onChange={handleNameForm}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={numberInput} onChange={handleNumberForm}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" onClick={props.addPerson}>add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\nconst SearchForm = (props) => {\r\n    const {searchInput, handleSearchForm} = props.searchForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            filter: <input value={searchInput} onChange={handleSearchForm}/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\n\r\nexport default {\r\n    InputForm,\r\n    SearchForm\r\n};\r\n\r\n","import React from 'react';\r\n\r\nconst PersonsDisplay = (props) => {\r\n    const filter = (person) => {\r\n      if (props.filter === \"\" ||\r\n          person.name.toLowerCase().includes(props.filter.toLowerCase())) \r\n      {\r\n        return (\r\n            <div key={person.name}>\r\n                <p>\r\n                    {person.name} {person.number}\r\n                    <button onClick={props.removeHandler(person)}>delete</button>\r\n                </p>\r\n            </div>\r\n        )\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        {props.persons.map(person => filter(person))}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PersonsDisplay;","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import axios from 'axios';\r\nconst baseUrl = '/api/persons/';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(baseUrl + id);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  update,\r\n  remove\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Forms from './components/Forms';\r\nimport PersonsDisplay from './components/PersonsDisplay';\r\nimport Notification from './components/Notification';\r\n\r\nimport personService from './services/persons';\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [numberInput, setNumberInput] = useState('');\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    \r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response);\r\n      });\r\n\r\n  }, []);\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    const newPerson = {name: nameInput, number: numberInput};\r\n    const foundPerson = persons.find(person => (person.name === newPerson.name));\r\n\r\n    if (foundPerson) {\r\n      updatePerson(foundPerson.id, newPerson);\r\n    } else {    \r\n      personService\r\n        .create(newPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n          setNameInput('');\r\n          setNumberInput('');\r\n\r\n          displayMessage(`${newPerson.name} has been added`)\r\n        });\r\n    }\r\n  }\r\n\r\n  const updatePerson = (id, newPerson) => {\r\n    if (window.confirm(`${newPerson.name} already exists, update with new number?`)) {\r\n      personService\r\n        .update(id, newPerson)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p.id !== id).concat(response));\r\n          setNameInput('');\r\n          setNumberInput('');\r\n\r\n          displayMessage(`${newPerson.name} has been updated`)\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleNameForm = (event) => {\r\n    setNameInput(event.target.value);\r\n  }\r\n\r\n  const handleNumberForm = (event) => {\r\n    setNumberInput(event.target.value);\r\n  }\r\n\r\n  const handleSearchForm = (event) => {\r\n    setSearchInput(event.target.value);\r\n  }\r\n\r\n  const handleRemoveButton = (person) => {\r\n    const handler = () => {\r\n      if (window.confirm(`Delete ${person.name}?`)) {\r\n        personService\r\n          .remove(person.id)\r\n          .then(response => {\r\n            setPersons(persons.filter(p => p.id !== person.id));\r\n\r\n            displayMessage(`${person.name} has been deleted`)\r\n        });\r\n      }\r\n    }\r\n\r\n    return handler;\r\n  }\r\n\r\n  const displayMessage = (message) => {\r\n    setMessage(message);\r\n    setTimeout(() => {setMessage(null)}, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message}/>\r\n      <h2>Phonebook</h2>\r\n      <Forms.SearchForm\r\n        searchForm={{searchInput, handleSearchForm}}\r\n      />\r\n\r\n      <h2>add new</h2>\r\n      <Forms.InputForm \r\n        nameForm={{nameInput, handleNameForm}} \r\n        numberForm={{numberInput, handleNumberForm}} \r\n        addPerson={addPerson}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <PersonsDisplay removeHandler={handleRemoveButton} persons={persons} filter={searchInput}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}