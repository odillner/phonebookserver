{"version":3,"sources":["components/Forms.js","components/PersonsDisplay.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["props","nameForm","nameInput","handleNameForm","numberForm","numberInput","handleNumberForm","value","onChange","type","onClick","addPerson","searchForm","searchInput","handleSearchForm","PersonsDisplay","persons","map","person","filter","name","toLowerCase","includes","key","number","removeHandler","Notification","message","className","baseUrl","getAll","a","axios","get","res","data","create","newObject","post","remove","id","delete","update","put","App","useState","setPersons","setNameInput","setNumberInput","setSearchInput","setMessage","messageType","setMessageType","useEffect","getAllPersons","personService","displayError","console","log","event","preventDefault","newPerson","foundPerson","find","updatePerson","concat","displayMessage","window","confirm","p","setTimeout","error","Forms","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.051f8d04.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst InputForm = (props) => {\r\n    const {nameInput, handleNameForm} = props.nameForm;\r\n    const {numberInput, handleNumberForm} = props.numberForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            name: <input value={nameInput} onChange={handleNameForm}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={numberInput} onChange={handleNumberForm}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" onClick={props.addPerson}>add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\nconst SearchForm = (props) => {\r\n    const {searchInput, handleSearchForm} = props.searchForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            filter: <input value={searchInput} onChange={handleSearchForm}/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\n\r\nexport default {\r\n    InputForm,\r\n    SearchForm\r\n};\r\n\r\n","import React from 'react';\r\n\r\nconst PersonsDisplay = (props) => {\r\n    const filter = (person) => {\r\n      if (props.filter === \"\" ||\r\n          person.name.toLowerCase().includes(props.filter.toLowerCase())) \r\n      {\r\n        return (\r\n            <div key={person.name}>\r\n                <p>\r\n                    {person.name} {person.number}\r\n                    <button onClick={props.removeHandler(person)}>delete</button>\r\n                </p>\r\n            </div>\r\n        )\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        {props.persons.map(person => filter(person))}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PersonsDisplay;","import React from 'react';\r\n\r\nconst Notification = (props) => {\r\n    if (props.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={props.type}>\r\n        {props.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getAll = async () => {\r\n    const res = await axios.get(baseUrl)\r\n    return res.data;\r\n}\r\n\r\nconst create = async (newObject) => {\r\n    const res = await axios.post(baseUrl, newObject)\r\n    return res.data;\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const res = await axios.delete(baseUrl + id)\r\n  return res.data;\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const res = await axios.put(`${baseUrl}${id}`, newObject)\r\n  return res.data;\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  update,\r\n  remove\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Forms from './components/Forms';\r\nimport PersonsDisplay from './components/PersonsDisplay';\r\nimport Notification from './components/Notification';\r\n\r\nimport personService from './services/persons';\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [numberInput, setNumberInput] = useState('');\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(\"notification\");\r\n\r\n  useEffect(() => {\r\n    getAllPersons()\r\n  }, []);\r\n\r\n\r\n  const getAllPersons = async () => {\r\n    try {\r\n      const res = await personService.getAll()\r\n      setPersons(res)\r\n    } catch (err) {\r\n      displayError(`Could not fetch phonebook`)\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const addPerson = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const newPerson = {name: nameInput, number: numberInput};\r\n    const foundPerson = persons.find(person => (person.name === newPerson.name));\r\n\r\n    if (foundPerson) {\r\n      updatePerson(foundPerson.id, newPerson);\r\n    } else {    \r\n      try {\r\n        const res = await personService.create(newPerson)\r\n\r\n        setPersons(persons.concat(res))\r\n\r\n        displayMessage(`${newPerson.name} has been added`)\r\n      } catch (err) {\r\n        displayError(`Unable to add person, invalid input`)\r\n        console.log(err)\r\n      }\r\n\r\n      setNameInput('');\r\n      setNumberInput('');\r\n    }\r\n  }\r\n\r\n  const updatePerson = async (id, newPerson) => {\r\n    if (window.confirm(`${newPerson.name} already exists, update with new number?`)) {\r\n      try {\r\n        const res = await personService.update(id, newPerson)\r\n\r\n        setPersons(persons.filter(p => p.id !== id).concat(res));\r\n\r\n        displayMessage(`${newPerson.name} has been updated`)\r\n      } catch (err) {\r\n        displayError(`Unable to update person, invalid input`)\r\n        console.log(err)\r\n      }\r\n\r\n      setNameInput('');\r\n      setNumberInput('');\r\n    }\r\n  }\r\n\r\n  const handleNameForm = (event) => {\r\n    setNameInput(event.target.value);\r\n  }\r\n\r\n  const handleNumberForm = (event) => {\r\n    setNumberInput(event.target.value);\r\n  }\r\n\r\n  const handleSearchForm = (event) => {\r\n    setSearchInput(event.target.value);\r\n  }\r\n\r\n  const handleRemoveButton = (person) => {\r\n    const handler = async () => {\r\n      if (window.confirm(`Delete ${person.name}?`)) {\r\n        try {\r\n          const res = await personService.remove(person.id)\r\n\r\n          displayMessage(`${person.name} has been deleted`)\r\n        } catch (err) {\r\n          displayError(`${person.name} has already been deleted`)\r\n          console.log(err)\r\n        }\r\n\r\n        setPersons(persons.filter(p => p.id !== person.id));\r\n      }\r\n    }\r\n\r\n    return handler;\r\n  }\r\n\r\n  const displayMessage = (message) => {\r\n    setMessage(message);\r\n    setMessageType(\"notification\");\r\n    setTimeout(() => {setMessage(null)}, 5000)\r\n  }\r\n\r\n  const displayError = (error) => {\r\n    setMessage(error);\r\n    setMessageType(\"error\");\r\n    setTimeout(() => {setMessage(null)}, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} type={messageType}/>\r\n      <h2>Phonebook</h2>\r\n      <Forms.SearchForm\r\n        searchForm={{searchInput, handleSearchForm}}\r\n      />\r\n\r\n      <h2>add new</h2>\r\n      <Forms.InputForm \r\n        nameForm={{nameInput, handleNameForm}} \r\n        numberForm={{numberInput, handleNumberForm}} \r\n        addPerson={addPerson}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <PersonsDisplay removeHandler={handleRemoveButton} persons={persons} filter={searchInput}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}