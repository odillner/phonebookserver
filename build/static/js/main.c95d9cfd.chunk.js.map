{"version":3,"sources":["components/Forms.js","components/PersonsDisplay.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["props","nameForm","nameInput","handleNameForm","numberForm","numberInput","handleNumberForm","value","onChange","type","onClick","addPerson","searchForm","searchInput","handleSearchForm","PersonsDisplay","persons","map","person","filter","name","toLowerCase","includes","key","number","removeHandler","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setNameInput","setNumberInput","setSearchInput","setMessage","messageType","setMessageType","useEffect","getAllPersons","personService","updatePerson","newPerson","window","confirm","p","concat","displayMessage","setTimeout","Forms","event","target","preventDefault","foundPerson","find","_id","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c95d9cfd.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst InputForm = (props) => {\r\n    const {nameInput, handleNameForm} = props.nameForm;\r\n    const {numberInput, handleNumberForm} = props.numberForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            name: <input value={nameInput} onChange={handleNameForm}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={numberInput} onChange={handleNumberForm}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" onClick={props.addPerson}>add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\nconst SearchForm = (props) => {\r\n    const {searchInput, handleSearchForm} = props.searchForm;\r\n  \r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            filter: <input value={searchInput} onChange={handleSearchForm}/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n  \r\n\r\nexport default {\r\n    InputForm,\r\n    SearchForm\r\n};\r\n\r\n","import React from 'react';\r\n\r\nconst PersonsDisplay = (props) => {\r\n    const filter = (person) => {\r\n      if (props.filter === \"\" ||\r\n          person.name.toLowerCase().includes(props.filter.toLowerCase())) \r\n      {\r\n        return (\r\n            <div key={person.name}>\r\n                <p>\r\n                    {person.name} {person.number}\r\n                    <button onClick={props.removeHandler(person)}>delete</button>\r\n                </p>\r\n            </div>\r\n        )\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        {props.persons.map(person => filter(person))}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PersonsDisplay;","import React from 'react';\r\n\r\nconst Notification = (props) => {\r\n    if (props.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={props.type}>\r\n        {props.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import axios from 'axios';\r\nconst baseUrl = '/api/persons/';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(baseUrl + id);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create,\r\n  update,\r\n  remove\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Forms from './components/Forms';\r\nimport PersonsDisplay from './components/PersonsDisplay';\r\nimport Notification from './components/Notification';\r\n\r\nimport personService from './services/persons';\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [numberInput, setNumberInput] = useState('');\r\n  const [searchInput, setSearchInput] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(\"notification\");\r\n\r\n  useEffect(() => {\r\n    getAllPersons()\r\n  }, []);\r\n\r\n\r\n  const getAllPersons = () => {\r\n    personService\r\n    .getAll()\r\n    .then(response => {\r\n      setPersons(response);\r\n    });\r\n  }\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    const newPerson = {name: nameInput, number: numberInput};\r\n    const foundPerson = persons.find(person => (person.name === newPerson.name));\r\n\r\n    if (foundPerson) {\r\n      updatePerson(foundPerson._id, newPerson);\r\n    } else {    \r\n      personService\r\n        .create(newPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n          setNameInput('');\r\n          setNumberInput('');\r\n\r\n          displayMessage(`${newPerson.name} has been added`, \"notification\")\r\n        });\r\n    }\r\n  }\r\n\r\n  const updatePerson = (id, newPerson) => {\r\n    if (window.confirm(`${newPerson.name} already exists, update with new number?`)) {\r\n      personService\r\n        .update(id, newPerson)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p.id !== id).concat(response));\r\n          setNameInput('');\r\n          setNumberInput('');\r\n\r\n          displayMessage(`${newPerson.name} has been updated`, \"notification\")\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleNameForm = (event) => {\r\n    setNameInput(event.target.value);\r\n  }\r\n\r\n  const handleNumberForm = (event) => {\r\n    setNumberInput(event.target.value);\r\n  }\r\n\r\n  const handleSearchForm = (event) => {\r\n    setSearchInput(event.target.value);\r\n  }\r\n\r\n  const handleRemoveButton = (person) => {\r\n    const handler = () => {\r\n      if (window.confirm(`Delete ${person.name}?`)) {\r\n        personService\r\n          .remove(person._id)\r\n          .then(response => {\r\n            displayMessage(`${person.name} has been deleted`, \"notification\")\r\n            getAllPersons()\r\n          })\r\n          .catch(error => {\r\n            displayMessage(`${person.name} has already been deleted`, \"error\")\r\n          });\r\n      }\r\n    }\r\n\r\n    return handler;\r\n  }\r\n\r\n  const displayMessage = (message, type) => {\r\n    setMessage(message);\r\n    setMessageType(type);\r\n    setTimeout(() => {setMessage(null)}, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} type={messageType}/>\r\n      <h2>Phonebook</h2>\r\n      <Forms.SearchForm\r\n        searchForm={{searchInput, handleSearchForm}}\r\n      />\r\n\r\n      <h2>add new</h2>\r\n      <Forms.InputForm \r\n        nameForm={{nameInput, handleNameForm}} \r\n        numberForm={{numberInput, handleNumberForm}} \r\n        addPerson={addPerson}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <PersonsDisplay removeHandler={handleRemoveButton} persons={persons} filter={searchInput}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}